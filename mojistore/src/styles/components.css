@reference "tailwindcss";

/* ==========================================================================
   TOKENS
   ========================================================================== */

:root{
  --r-card: 18px;          /* outer card radius */
  --r-inner: 14px;         /* inner media radius */
  --r-btn: 12px;
  --r-chip: 999px;

  /* Balanced product card proportions */
  --card-img-h: 13.5rem;   /* media box height desktop */
  --card-body-h: 13.25rem; /* text area target height (≈ image) */

  /* card shadows (fallbacks if theme doesn't define them) */
  --shadow-1: 0 6px 16px rgba(0,0,0,.08), 0 1px 0 rgba(0,0,0,.04);
  --shadow-2: 0 10px 22px rgba(0,0,0,.12), 0 2px 0 rgba(0,0,0,.06);
}

@media (max-width: 1024px){
  :root{
    --card-img-h: 12.8rem;
    --card-body-h: 12.6rem;
  }
}
@media (max-width: 640px){
  :root{
    --card-img-h: 11.9rem;
    --card-body-h: 11.7rem;
  }
}

/* darker shadow tune for dark theme (if you toggle data-theme) */
[data-theme="dark"]{
  --shadow-1: 0 8px 18px rgba(0,0,0,.35);
  --shadow-2: 0 14px 26px rgba(0,0,0,.48);
}

/* ==========================================================================
   GLOBAL UTILITIES
   ========================================================================== */

.no-scrollbar::-webkit-scrollbar{ display:none; }
.no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }

.card{
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--r-card);
  box-shadow: var(--shadow-1);
}
.card:hover{ box-shadow: var(--shadow-2); }

/* Buttons */
.btn-outline{
  border-radius: var(--r-btn);
  border: 1px solid rgb(82,82,91);
  padding: .48rem .7rem;
  background: transparent;
  color: var(--color-text);
}
.btn-outline:hover{ border-color: var(--color-neon); }

.btn-success{
  border-radius: var(--r-btn);
  padding: .5rem .85rem;
  background: rgba(16,185,129,.18);
  border: 1px solid rgba(52,211,153,.6);
  color: var(--color-text);
}
.btn-success:hover{ background: rgba(16,185,129,.28); }

/* Pills */
.pill{
  font-size: 10.5px;
  line-height: 1;
  padding: .24rem .54rem;
  border-radius: var(--r-chip);
  border: 1px solid var(--color-border);
  background: var(--color-surface-2);
  color: var(--color-text);
}
.pill--ok{  background: transparent; border-color: rgba(52,211,153,.55); color: rgb(110,231,183); }
.pill--bad{ background: transparent; border-color: rgba(248,113,113,.60); color: rgb(252,165,165); }

/* ==========================================================================
   PRODUCT CARD (GLOBAL)
   ========================================================================== */

.card--product{
  position: relative;
  overflow: hidden;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--r-card);
  box-shadow: var(--shadow-1);
}
.card--product:hover{ box-shadow: var(--shadow-2); }

/* --- MEDIA --------------------------------------------------------------- */

/* inner gap so the image never touches outer border */
.card-media{
  position: relative;
  padding: 14px 14px 0;
}

/* media frame */
.product-img{
  height: var(--card-img-h);
  width: 100%;
  overflow: hidden;
  border-radius: var(--r-inner);
  background: var(--color-surface-2);  /* light-mode friendly backdrop */
  display: flex; align-items: center; justify-content: center;
  transition: filter .18s ease;
}

/* ensure the actual image/picture fills the frame */
.product-img :where(img, picture, picture > img, video, canvas, svg){
  width: 100%;
  height: 100%;
  display: block;
}

/* dim slightly on hover so action icons pop */
.card--product:hover .product-img{ filter: brightness(.9) contrast(.98); }

/* --- BODY --------------------------------------------------------------- */

.card-body{
  min-height: var(--card-body-h);   /* keeps text zone consistent */
  padding: .85rem 1rem 1rem;
  display: flex;
  flex-direction: column;
}

/* brand chip + spacer (keeps rows aligned if brand missing) */
.card-brand{ margin-bottom: 8px; }
.card-brand .pill{ font-size: 10px; padding: .2rem .48rem; }
.card-brand-spacer{ height: .8rem; margin-bottom: 6px; }

/* Title — slimmer & crisp + fixed slot so every card keeps same height */
.card-title,
.pc-title{
  --pc-lines: 2;           /* desktop override below => 3 */
  --pc-lh: 1.24;
  font-weight: 600;
  font-size: clamp(.98rem, .94rem + .28vw, 1.12rem);
  line-height: var(--pc-lh);
  margin: 0 0 8px;
  letter-spacing: 0;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: var(--pc-lines);
  line-clamp: var(--pc-lines);
  overflow: hidden;
  text-overflow: ellipsis;
  /* reserve the exact space for chosen number of lines */
  min-height: calc(var(--pc-lines) * 1em * var(--pc-lh));
  max-height: calc(var(--pc-lines) * 1em * var(--pc-lh));
}
.card-title a{ color: var(--color-text); text-decoration: none; }
.card-title a:hover{ color: var(--color-neon); }

/* SKU — quiet */
.card-sku{
   color: var(--color-muted);
   font-size: .72rem;
   /* tighter gap under SKU */
   margin: 0 0 6px;
 }

/* Category trail — relaxed spacing; soft accent → neon on hover */
.card-cat{
   /* less gap after SKU; add a bit more gap before footer */
   margin-top: 6px;
   margin-bottom: 14px;
   font-size: .82rem;
   /* force category and subcategory onto separate rows */
   display: grid;
   grid-template-columns: 1fr;
   row-gap: 3px;          /* small space between category and subcategory */
 }
 /* put each link on its own row */
 .card-cat a{
   display: block;
   width: 100%;
 }

 /* we don't need the chevron/dot separator if we’re stacking */
 .card-cat .sep{
   display: none;
 }
.card-cat a{
   color: color-mix(in oklab, var(--color-neon) 34%, var(--color-text) 66%);
   text-decoration: none;
   border-bottom: 1px dotted transparent;
 }
.card-cat a:hover{ color: var(--color-neon); border-color: var(--color-neon); }
.card-cat .sep{ opacity: .6; margin: 0 8px; }

/* Footer — push to bottom so heights line up */
.card-foot{
  margin-top: auto;        /* pin footer to bottom */
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.card-price{ font-weight: 700; font-size: .92rem; }
.card-price-link{
  font-size: .9rem;
  text-decoration: none;
  color: var(--color-text);
  opacity: .95;
}
.card-price-link:hover{ color: var(--color-neon); opacity: 1; }

/* --- HOVER ACTIONS (Quick View + Wishlist) ----------------------------- */

.card-actions{
  position: absolute;
  left: 0; right: 0;
  bottom: 1.35rem;
  display: flex;
  gap: .5rem;
  justify-content: center;
  opacity: 0;
  transform: translateY(24px);
  pointer-events: none;
}
.card--product:hover .card-actions{
  animation: cardActionsRise .22s ease-out forwards;
  pointer-events: auto;
}

.card-action-btn{
  display: inline-flex;
  align-items: center;
  gap: .34rem;
  padding: .42rem .58rem;
  font-size: .76rem;
  border-radius: 999px;
  border: 1px solid var(--color-border);
  background: color-mix(in oklab, var(--color-surface-2) 78%, rgba(0,0,0,0));
  color: var(--color-text);
  box-shadow: var(--shadow-1);
  backdrop-filter: blur(6px);
  transition: transform .15s ease, border-color .15s ease, background-color .15s ease, color .15s ease;
}
.card-action-btn:hover{
  transform: translateY(-3px);
  border-color: var(--color-neon);
  background: color-mix(in oklab, var(--color-surface-2) 58%, rgba(0,255,225,.10));
}
.card-action-btn.is-saved svg{ fill: currentColor; color: var(--color-neon); }

@keyframes cardActionsRise{
  from{ opacity:0; transform: translateY(24px); }
  to{   opacity:1; transform: translateY(-2px); }
}

/* ==========================================================================
   ULTRA-WIDE HELPERS (≥2560px)
   ========================================================================== */
@media (min-width: 2560px){
  .uw\:grid-cols-5{ grid-template-columns: repeat(5, minmax(0, 1fr)); }
  .uw\:max-w-120rem{ max-width: 120rem; }
}

/* ==========================================================================
   KEEP CONSISTENT RADII / STRUCTURE HOOKS
   ========================================================================== */
.product-img{ border-radius: var(--r-inner); }
.btn-outline{ border-radius: var(--r-btn); }
.pill{ border-radius: var(--r-chip); }

/* If your ProductCard uses these structural classes, keep them aligned */
.pc-card { padding-top: 0 !important; }                 /* image flush to top */
.pc-card .media-box.pc-media {
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;
  overflow: hidden;
}
.pc-card .pc-body { padding-top: 12px; }                /* breathing room below image */

/* ensure SmartImage wrapper fills the fixed media frame height */
.product-img .media-box { width: 100%; height: 100%; }

/* Title lines: use 3 lines on ≥1024px for better balance */
@media (min-width: 1024px){
  .card-title,
  .pc-title{ --pc-lines: 3; }
}
